@model InspectionCommentPdfDTO

@{
    Layout = null;
    var baseUrl = @config.GetSection("BaseUrl").Value;
    string[] insId = new string[2];
    var Title = "";
    if (Model.Inspection!.InspectorSignFile != null)
    {
        insId = Model.Inspection!.InspectorSignFile.Split('-');
    }
    if (Model.Inspection.Establishment!.PermitNumber!.StartsWith("RF"))
    {
        Title = "Retail Food";
    }
    else if (Model.Inspection.Establishment!.PermitNumber!.StartsWith("MF"))
    {
        Title = "Mobile Food";
    }
    TimeZoneInfo centralZone = TimeZoneInfo.FindSystemTimeZoneById("Central Standard Time");

    var dateStr = "";

      if (Model.InspectionData!.CFMExpiryDate != null)
      {
            dateStr = Model.InspectionData!.CFMExpiryDate.Value.ToShortDateString();
      }

}

<div style="width:100%; float:left">
    <div style="width:26%; float:left; text-align:right;padding-right:10px">
        <img src="@baseUrl/Images/Logo/logoclient.png" height="125" style="padding-top:10px" />
    </div>
    <div style="width:68%; float:left">
        <div style="font-size:20px; font-family:Verdana; padding-top:10px;padding-bottom:3px">
            <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BRAZOS COUNTY HEALTH DISTRICT<br /></span>
        </div>
        <div style="font-size:17px; font-family:Verdana;padding-bottom:3px; padding-left:27px">
            <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;201 North Texas Ave. Bryan, TX 77803<br /></span>
        </div>
        <div style="font-size:17px; font-family:Verdana; padding-bottom:3px;padding-left:5px">
            <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;www.BrazosHealth.org<br /></span>
        </div>
        <div style="font-size:17px; font-family:Verdana;padding-bottom:3px; padding-left:33px">
            <span>Phone: (979) 361-4440 Fax: (979) 361-5759<br /></span>
        </div>
        <div style="font-size:19px; font-family:Verdana;padding-bottom:6px; font-weight:bold; padding-top:5px">
            <span>@Title Establishment Inspection Report<br /></span>
        </div>
    </div>
</div>
<div style="width:100%;float:left;text-align:center">
    <h2 style="font-size:20px; font-family:Verdana; ">Comment</h2>
</div>
<div style="width:873px; float:left; border-top:1px solid;border-left:1px solid;border-right:1px solid;border-bottom:0px solid; height:30px;font-size:12px">
    <div style="width:16%;height:30px; float:left;border-right:1px solid"><span style="padding-left:3px;padding-top:3px"><b>Date: </b>@Model.Inspection!.InspectionDate.ToShortDateString()</span></div>
    <div style="width:16%; height:30px;float:left;border-right:1px solid"><span style="padding-left:3px;padding-top:3px"><b>Time In: </b>@TimeZoneInfo.ConvertTime(Model.Inspection!.TimeIn, centralZone).ToShortTimeString()</span></div>
    <div style="width:16%; height:30px;float:left;border-right:1px solid"><span style="padding-left:3px;padding-top:3px"><b>Time Out: </b>@TimeZoneInfo.ConvertTime(Model.Inspection!.TimeOut, centralZone).ToShortTimeString()</span></div>
    <div style="width:20%; height:30px;float:left;border-right:1px solid"><span style="padding-left:3px;padding-top:3px"><b>License/Permit#: </b>@Model.Inspection!.Establishment!.PermitNumber</span></div>
    <div style="width:20%; height:30px;float:left;border-right:1px solid"><span style="padding-left:3px;padding-top:3px"><b>Risk Category: </b>@Model.Inspection!.Establishment!.RiskCategory</span></div>
    <div style="width:11%; height:30px;float:left"><span style="padding-left:3px;padding-top:3px"><b>Page: 3</b></span></div>
</div>
<div style="width:873px; float:left; border-left:1px solid;border-top:0px solid;border-bottom:0px solid;border-right:1px solid; height:16px;font-size:13px; background-color:lightgrey">
    @if (Model.Inspection.PurposeId == 2)
    {
        <div style="width:87.9%;height:16px; float:left;border-right:1px solid;padding-left:2px"><span style="padding-left:90px;padding-top:3px"><b>Purpose of Inspection: </b>&nbsp;&nbsp;&nbsp;<b>&#9745; 1-Compliance</b>&nbsp;&nbsp;&nbsp;<b>&#9744; 2-Routine</b>&nbsp;&nbsp;&nbsp;<b>&#9744; 3-Field Investigation</b>&nbsp;&nbsp;&nbsp;<b>&#9744; 4-Visit</b>&nbsp;&nbsp;&nbsp;<b>&#9744; 5-Other</b></span></div>
    }
    else if (Model.Inspection.PurposeId == 3)
    {
        <div style="width:87%;height:16px; float:left;border-right:1px solid;padding-left:2px"><span style="padding-left:90px;padding-top:3px"><b>Purpose of Inspection: </b>&nbsp;&nbsp;&nbsp;<b>&#9744; 1-Compliance</b>&nbsp;&nbsp;&nbsp;<b>&#9745; 2-Routine</b>&nbsp;&nbsp;&nbsp;<b>&#9744; 3-Field Investigation</b>&nbsp;&nbsp;&nbsp;<b>&#9744; 4-Visit</b>&nbsp;&nbsp;&nbsp;<b>&#9744; 5-Other</b></span></div>
    }
    else if (Model.Inspection.PurposeId == 4)
    {
        <div style="width:87%;height:16px; float:left;border-right:1px solid;padding-left:2px"><span style="padding-left:90px;padding-top:3px"><b>Purpose of Inspection: </b>&nbsp;&nbsp;&nbsp;<b>&#9744; 1-Compliance</b>&nbsp;&nbsp;&nbsp;<b>&#9744; 2-Routine</b>&nbsp;&nbsp;&nbsp;<b>&#9745; 3-Field Investigation</b>&nbsp;&nbsp;&nbsp;<b>&#9744; 4-Visit</b>&nbsp;&nbsp;&nbsp;<b>&#9744; 5-Other</b></span></div>
    }
    else if (Model.Inspection.PurposeId == 5)
    {
        <div style="width:87%;height:16px; float:left;border-right:1px solid;padding-left:2px"><span style="padding-left:90px;padding-top:3px"><b>Purpose of Inspection: </b>&nbsp;&nbsp;&nbsp;<b>&#9744; 1-Compliance</b>&nbsp;&nbsp;&nbsp;<b>&#9744; 2-Routine</b>&nbsp;&nbsp;&nbsp;<b>&#9744; 3-Field Investigation</b>&nbsp;&nbsp;&nbsp;<b>&#9745; 4-Visit</b>&nbsp;&nbsp;&nbsp;<b>&#9744; 5-Other</b></span></div>
    }
    else if (Model.Inspection.PurposeId == 6)
    {
        <div style="width:87%;height:16px; float:left;border-right:1px solid;padding-left:2px"><span style="padding-left:90px;padding-top:3px"><b>Purpose of Inspection: </b>&nbsp;&nbsp;&nbsp;<b>&#9744; 1-Compliance</b>&nbsp;&nbsp;&nbsp;<b>&#9744; 2-Routine</b>&nbsp;&nbsp;&nbsp;<b>&#9744; 3-Field Investigation</b>&nbsp;&nbsp;&nbsp;<b>&#9744; 4-Visit</b>&nbsp;&nbsp;&nbsp;<b>&#9745; 5-Other</b></span></div>
    }
    <div style="width:11%; height:16px;float:left; text-align:center;"><span style="padding-left:3px;padding-top:3px"><b>TOTAL SCORE </b></span></div>
</div>
<div style="width:873px; float:left; border-left:1px solid;border-right:1px solid; height:40px;font-size:13px;">
    <div style="width:33%; height:40px;float:left;border-right:1px solid"><span style="padding-left:3px;padding-top:2px"><b>Establishment Name: </b>@Model.Inspection!.Establishment!.Name</span></div>
    <div style="width:35%; height:40px;float:left;border-right:1px solid"><span style="padding-left:3px;padding-top:2px"><b>Physical Address: </b>@Model.Inspection!.Establishment!.Address,@Model.Inspection!.Establishment!.City,@Model.Inspection!.Establishment!.State, @Model.Inspection!.Establishment!.Zip</span></div>
    <div style="width:20%; height:40px;float:left;border-right:1px solid;">
        <div style="width:100%; height:20px;text-align:center"><span style="padding-left:3px;padding-top:2px"><b>Follow-Up: </b></span></div>
        <div style="width:100%; height:20px">
            @if (Model.Inspection.FollowUp == true)
            {
                <span style="padding-left:35px;padding-top:2px;padding-right:65px">&#x2713;<b>Yes </b></span>
                <span style="padding-left:3px;padding-top:2px"><b>No </b></span>
            }
            else
            {
                <span style="padding-left:35px;padding-top:2px;padding-right:70px"><b>Yes </b></span>
                <span style="padding-left:3px;padding-top:2px">&#x2713; <b>No </b></span>
            }

        </div>
    </div>
    @if (@Model.Inspection.IsPermitSuspended == true)
    {
        <div style="width:11%; height:40px;float:left;text-align:center"><span style="padding-left:3px;line-height:40px"><b>PS</b></span></div>
    }
    else
    {
        <div style="width:11%; height:40px;float:left;text-align:center"><span style="padding-left:3px;line-height:40px"><b>@Model.InspectionData!.Score</b></span></div>
    }

</div>
<div style="width:873px; float:left; border-top:0px solid;border-left:1px solid;border-right:1px solid; height:30px;font-size:12px">
    <div style="width:25%;height:30px; float:left;border-right:1px solid"><span style="padding-left:3px;padding-top:3px"><b>CFM: </b>@Model.InspectionData!.CFM</span></div>
    <div style="width:25%; height:30px;float:left;border-right:1px solid"><span style="padding-left:3px;padding-top:3px"><b>CFM Expiry Date: </b>@dateStr</span></div>
    <div style="width:25%; height:30px;float:left;border-right:1px solid"><span style="padding-left:3px;padding-top:3px"><b>FHC: </b>@Model.InspectionData!.FHC</span></div>
    <div style="width:23%; height:30px;float:left"><span style="padding-left:3px;padding-top:3px"><b>Number of Employees: </b>@Model.InspectionData!.NumberOfEmployees</span></div>
</div>
<div style="float:left; border:1px solid; width:97%;  text-align:left; font-size:16px; padding-left:10px; padding-right:10px">
    @Html.Raw(@Model.Inspection.Comment)
</div>
<div style="float:left; width:99.3%; height:80px;border:1px solid; border-top:hidden; font-family:Verdana;font-size:10px">
    <div style="float:left; width:39.5%; height:100%;border-right:1px solid;padding-left:5px">
        <div style="width:23%;float:left;padding-top:5px"><span><b>Received By: </b></span></div>
        <div style="width:76%;float:left;padding-top:20px"><img src="@Model.InspectionData.PersonInChargeSign" height="50" /></div>
    </div>
    <div style="float:left; width:29%; height:100%;border-right:1px solid;padding-left:5px"><span style="line-height:20px"><b>Print: </b>@Model.InspectionData.PersonInCharge</span></div>
    <div style="float:left; width:25%; height:100%;padding-left:5px"><span style="line-height:20px"><b>Title: Person In Charge/ Owner</b></span></div>
</div>
<div style="float:left; width:99.3%; height:80px;border:1px solid; border-top:hidden; font-family:Verdana;font-size:10px">
    <div style="float:left; width:35%; height:100%;border-right:1px solid;padding-left:5px">
        <div style="width:34%;float:left;padding-top:5px"><span><b>Inspected By: </b></span></div>
        @if (Model.Inspection!.InspectorSignFile != null)
        {
            <div style="width:65%;float:left;padding-top:20px"><img src="@baseUrl/Images/UsersSignature/@insId[0]/@Model.Inspection.InspectorSignFile" height="50" /></div>
        }
        else
        {
            <div style="width:75%;float:left;padding-top:20px"><img src="@Model.Inspection.InspectedBySign" height="50" /></div>
        }
    </div>

    <div style="float:left; width:14%; height:100%;border-right:1px solid;padding-left:5px"><span style="line-height:20px"><b>Print: </b>@Model.InspectedBy</span></div>
    <div style="float:left; width:34.4%; height:100%;border-right:1px solid;padding-left:5px">
        <div style="width:34%;float:left;padding-top:5px"><span><b>Inspected By: </b></span></div>
        @* @if (Model.InspectionDetails!.InspectedBySignFile != null)
        {
            <div style="width:65%;float:left;padding-top:20px"><img src="@baseUrl/Images/UsersSignature/@insId[0]/@Model.InspectionDetails.InspectedBySignFile" height="50" /></div>
        }
        else
        {
            <div style="width:75%;float:left;padding-top:20px"><img src="@Model.InspectionData.SecondaryInspectorSign" height="50" /></div>
        } *@
        @* <div style="width:75%;float:left;padding-top:20px"><img src="@Model.InspectionData.SecondaryInspectorSign" height="50" /></div> *@
        @if (Model.InspectionData!.SecondaryInspectorSignFile != null)
        {
            <div style="width:65%;float:left;padding-top:20px"><img src="@Model.InspectionData.SecondaryInspectorSignFile" height="50" /></div>
        }
        else
        {
            <div style="width:75%;float:left;padding-top:20px"><img src="@Model.InspectionData.SecondaryInspectorSign" height="50" /></div>
        }
    </div>
    <div style="float:left; width:14%; height:100%;padding-left:5px"><span style="line-height:20px"><b>Print: </b>@Model.InspectionData.SecondaryInspector</span></div>
</div>